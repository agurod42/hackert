(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{1:function(e,t){},2:function(e,t){},3:function(e,t){},"3FJ4":function(e,t,a){"use strict";a.r(t);a("+L6B");var n=a("2/Rp"),r=(a("jCWc"),a("kPKH")),s=(a("14J3"),a("BMrR")),i=(a("IzEo"),a("bx4M")),c=a("o0o1"),o=a.n(c),l=(a("miYZ"),a("tsqr")),u=a("yXPU"),p=a.n(u),d=a("q1tI"),h=a.n(d),m=a("zn4P"),f=(a("5NDa"),a("5rEg")),w=(a("2qtc"),a("kLXV")),v=(a("Pwec"),a("CtXQ")),E=(a("Telt"),a("Tckk")),k=(a("cWXX"),a("/ezw")),y=(a("Mwp2"),a("VXEj"));class g extends h.a.Component{constructor(e){super(e),this.state={modal:!1},this.renderItem=this.renderItem.bind(this)}render(){return h.a.createElement(y["a"],{dataSource:this.props.dataSource,itemLayout:"horizontal",loading:this.props.loading,renderItem:this.renderItem})}renderItem(e){var t=this,a=[h.a.createElement(n["a"],{type:"primary"},"Submit")];return e.owned&&a.push(h.a.createElement(n["a"],{type:"danger",onClick:()=>this.setState({modal:e.id})},"Set winner")),h.a.createElement(y["a"].Item,{actions:a},h.a.createElement(k["a"],{active:!0,avatar:!0,loading:this.props.loading},h.a.createElement(y["a"].Item.Meta,{avatar:h.a.createElement(E["a"],{shape:"square",size:100,src:"https://picsum.photos/200"}),description:h.a.createElement("span",null,h.a.createElement("sup",null,"(@",e.contract,")"),h.a.createElement("br",null),e.description),title:h.a.createElement("a",{href:`/hachathon/${e.id}`},e.title)}),h.a.createElement(s["a"],{type:"flex",style:{flexDirection:"column",height:100,justifyContent:"center"}},h.a.createElement(r["a"],null,h.a.createElement(v["a"],{type:"star",theme:"filled"}),` $${e.prize} in prize`),h.a.createElement(r["a"],null,h.a.createElement(v["a"],{type:"clock-circle",theme:"filled"}),this.renderDaysLeftToSubmit(e))),h.a.createElement(w["a"],{title:`Winner of ${e.title} is: `,visible:this.state.modal===e.id,onOk:function(){var a=p()(o.a.mark(function a(){return o.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.onSetWinnerModalOk(e);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}));function n(){return a.apply(this,arguments)}return n}(),onCancel:()=>this.setState({modal:!1})},h.a.createElement(f["a"],{autoFocus:!0,placeholder:"0x92ad7698Ac1FC0c1103eC5E38f0c88b75517Aa9f",onChange:e=>this.setState({modalInput:e.target.value})}))))}renderDaysLeftToSubmit(e){var t=new Date(),a=new Date(e.endDate),n=Math.ceil((a.getTime()-t.getTime())/864e5);return` ${n} days to submit`}onSetWinnerModalOk(e){var t=this;return p()(o.a.mark(function a(){return o.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!t.props.onSetWinnerModalOk){a.next=3;break}return a.next=3,t.props.onSetWinnerModalOk(e,t.state.modalInput);case 3:t.setState({modal:!1});case 4:case"end":return a.stop()}},a,this)}))()}}a("OaEy");var x=a("2fM7"),b=(a("y8nQ"),a("Vl3Y")),S=b["a"].create()(class extends h.a.Component{constructor(){super(...arguments),this.formRules={}}render(){return h.a.createElement(b["a"],{layout:"inline"},h.a.createElement(b["a"].Item,{wrapperCol:{md:{span:24}}},this.renderField("search","",h.a.createElement(f["a"],{suffix:h.a.createElement(v["a"],{type:"search"}),placeholder:"Search by title, keyword or location"}))),h.a.createElement(b["a"].Item,{label:"Type"},this.renderField("type","online",h.a.createElement(x["a"],{style:{width:190}},h.a.createElement(x["a"].Option,{value:"all"},"All"),h.a.createElement(x["a"].Option,{value:"in-person"},"In-person"),h.a.createElement(x["a"].Option,{value:"online"},"Online")))),h.a.createElement(b["a"].Item,{label:"Sort by"},this.renderField("sortBy","recently-added",h.a.createElement(x["a"],{style:{width:190}},h.a.createElement(x["a"].Option,{value:"prize-amount"},"Prize Amount"),h.a.createElement(x["a"].Option,{value:"submission-deadline"},"Submission Deadline"),h.a.createElement(x["a"].Option,{value:"recently-added"},"Recently Added")))))}renderField(e,t,a){return this.props.form.getFieldDecorator(e,{initialValue:t,rules:this.formRules[e]})(a)}}),I=a("YnbO");t["default"]=class extends h.a.Component{constructor(e){super(e),this.hackathonService=new I["a"](),this.state={hackathons:[],loading:!1}}componentDidMount(){var e=this;return p()(o.a.mark(function t(){return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.t0=e,t.next=5,e.hackathonService.list();case 5:t.t1=t.sent,t.t2={loading:!1,hackathons:t.t1},t.t0.setState.call(t.t0,t.t2),t.next=14;break;case 10:t.prev=10,t.t3=t["catch"](0),l["a"].destroy(),l["a"].error((t.t3.message||t.t3).toString());case 14:case"end":return t.stop()}},t,this,[[0,10]])}))()}render(){var e=this;return h.a.createElement(h.a.Fragment,null,h.a.createElement(i["a"],null,h.a.createElement(s["a"],null,h.a.createElement(r["a"],{md:16},h.a.createElement("h2",{style:{marginBottom:0}},"Participate in online and in-person hackathons.")),h.a.createElement(r["a"],{md:8},h.a.createElement(n["a"],{type:"primary",style:{float:"right"}},h.a.createElement(m["a"],{to:"/hackathons/new"},"Post a hackathon"))))),h.a.createElement(s["a"],null,h.a.createElement(r["a"],{style:{marginTop:24}},h.a.createElement(S,null)),h.a.createElement(r["a"],{style:{marginTop:24}},h.a.createElement(i["a"],null,h.a.createElement(g,{dataSource:this.state.hackathons,loading:this.state.loading,onSetWinnerModalOk:function(){var t=p()(o.a.mark(function t(a,n){return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onSetWinnerModalOk(a,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));function a(e,a){return t.apply(this,arguments)}return a}()})))))}onSetWinnerModalOk(e,t){var a=this;return p()(o.a.mark(function n(){return o.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.hackathonService.assignWinner(e,t);case 3:n.next=9;break;case 5:n.prev=5,n.t0=n["catch"](0),l["a"].destroy(),l["a"].error((n.t0.message||n.t0).toString());case 9:case"end":return n.stop()}},n,this,[[0,5]])}))()}}},4:function(e,t){},YnbO:function(e,t,a){"use strict";var n=a("o0o1"),r=a.n(n),s=a("MVZn"),i=a.n(s),c=a("yXPU"),o=a.n(c),l=a("RmZU"),u=a("TS+T"),p=a("vDqi"),d=a.n(p),h=a("g+oI"),m=a("4ti/");class f{constructor(){this.provider=new m["MetamaskProvider"]()}enable(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.provider.isEnabled();case 2:if(t.sent){t.next=5;break}return t.next=5,e.provider.enable();case 5:case"end":return t.stop()}},t,this)}))()}deployLedger(e){var t=this;return o()(r.a.mark(function a(){var n;return r.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,h["AssetLedger"].deploy(t.provider,e).then(e=>e.complete());case 2:return n=a.sent,a.abrupt("return",n.receiverId);case 4:case"end":return a.stop()}},a,this)}))()}getLedger(e){var t=this;return o()(r.a.mark(function a(){return r.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,h["AssetLedger"].getInstance(t.provider,e);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,this)}))()}}var w=new f();t["a"]=class{constructor(){d.a.defaults.baseURL="https://hackert-9354.restdb.io/rest",d.a.defaults.headers["x-apikey"]="5c612021f210985199db5536"}list(){return o()(r.a.mark(function e(){return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w.enable();case 2:return e.next=4,d.a.get("/hackathons").then(e=>e.data.map(e=>i()({},e,{owned:e.owner===w.provider.accountId})));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))()}create(e){var t=this;return o()(r.a.mark(function a(){var n;return r.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,w.enable();case 2:return n={name:`${e.title} Prize Certificate`,symbol:e.symbol,uriBase:"https://0xcert.org/assets/",schemaId:"0x3f4a0870cd6039e6c987b067b0d28de54efea17449175d7a8cd6ec10ab23cc5d",capabilities:[]},a.next=5,w.deployLedger(n);case 5:return e.contract=a.sent,e.endDate=e.endDate.toISOString(),e.owner=w.provider.accountId,a.next=10,t.createPrize(e);case 10:return e.prizeImprint=a.sent,console.log("Hackathon deployed with contract id "+e.contract),a.next=14,d.a.post("/hackathons",e);case 14:case"end":return a.stop()}},a,this)}))()}createPrize(e){return o()(r.a.mark(function t(){var a,n;return r.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a={name:`${e.title} First Prize`,description:`The very first plaze of the ${e.title} hackathon!`,image:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/155/trophy_1f3c6.png"},n=new l["Cert"]({schema:u["schema86"]}),t.next=4,n.imprint(a);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))()}assignWinner(e,t){return o()(r.a.mark(function a(){var n,s;return r.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,w.enable();case 2:return n={id:Math.floor(1e6*Math.random()).toString(),imprint:e.prizeImprint,receiverId:t},a.next=5,w.getLedger(e.contract);case 5:return s=a.sent,a.next=8,s.createAsset(n).then(e=>e.complete());case 8:console.log("Asset assigned to "+t);case 9:case"end":return a.stop()}},a,this)}))()}}}}]);